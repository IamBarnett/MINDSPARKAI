<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindSpark AI - Architecture Diagram</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            min-height: 100vh;
        }
        
        .diagram-container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .title {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 40px;
        }
        
        .architecture-flow {
            position: relative;
            width: 100%;
            height: 800px;
            background: #fafafa;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
        }
        
        /* Componentes del diagrama */
        .component {
            position: absolute;
            border-radius: 8px;
            padding: 12px;
            font-size: 11px;
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            border: 2px solid transparent;
        }
        
        .component:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.25);
        }
        
        /* Usuario */
        .user {
            top: 20px;
            left: 50px;
            width: 80px;
            height: 60px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        /* Capa de Presentación */
        .presentation-layer {
            top: 50px;
            left: 200px;
            width: 1200px;
            height: 120px;
            background: rgba(102, 126, 234, 0.1);
            border: 2px dashed #667eea;
            border-radius: 10px;
        }
        
        .main-activity {
            top: 70px;
            left: 220px;
            width: 100px;
            height: 40px;
            background: #667eea;
            color: white;
        }
        
        .fragments {
            top: 70px;
            left: 350px;
            width: 120px;
            height: 80px;
            background: #8e44ad;
            color: white;
            font-size: 9px;
            line-height: 1.2;
        }
        
        .viewmodels {
            top: 70px;
            left: 500px;
            width: 100px;
            height: 80px;
            background: #9b59b6;
            color: white;
            font-size: 9px;
        }
        
        .adapters {
            top: 130px;
            left: 350px;
            width: 80px;
            height: 30px;
            background: #6c5ce7;
            color: white;
            font-size: 9px;
        }
        
        .navigation {
            top: 70px;
            left: 630px;
            width: 80px;
            height: 40px;
            background: #74b9ff;
            color: white;
            font-size: 9px;
        }
        
        /* Capa de Lógica de Negocio */
        .business-layer {
            top: 200px;
            left: 200px;
            width: 1200px;
            height: 180px;
            background: rgba(241, 147, 251, 0.1);
            border: 2px dashed #f093fb;
            border-radius: 10px;
        }
        
        .ai-repository {
            top: 220px;
            left: 220px;
            width: 120px;
            height: 60px;
            background: #e74c3c;
            color: white;
            font-size: 10px;
        }
        
        .auth-repository {
            top: 220px;
            left: 360px;
            width: 100px;
            height: 60px;
            background: #e67e22;
            color: white;
            font-size: 9px;
        }
        
        .user-repository {
            top: 220px;
            left: 480px;
            width: 100px;
            height: 60px;
            background: #f39c12;
            color: white;
            font-size: 9px;
        }
        
        .local-repository {
            top: 220px;
            left: 600px;
            width: 100px;
            height: 60px;
            background: #d35400;
            color: white;
            font-size: 9px;
        }
        
        .utils {
            top: 300px;
            left: 220px;
            width: 150px;
            height: 40px;
            background: #f1c40f;
            color: #2c3e50;
            font-size: 9px;
        }
        
        .constants {
            top: 300px;
            left: 390px;
            width: 100px;
            height: 40px;
            background: #f39c12;
            color: white;
            font-size: 9px;
        }
        
        /* Capa de Datos */
        .data-layer {
            top: 410px;
            left: 200px;
            width: 1200px;
            height: 150px;
            background: rgba(79, 172, 254, 0.1);
            border: 2px dashed #4facfe;
            border-radius: 10px;
        }
        
        .models {
            top: 430px;
            left: 220px;
            width: 120px;
            height: 100px;
            background: #3498db;
            color: white;
            font-size: 9px;
            line-height: 1.1;
        }
        
        .network-services {
            top: 430px;
            left: 360px;
            width: 100px;
            height: 60px;
            background: #2980b9;
            color: white;
            font-size: 9px;
        }
        
        .local-storage {
            top: 430px;
            left: 480px;
            width: 100px;
            height: 60px;
            background: #1abc9c;
            color: white;
            font-size: 9px;
        }
        
        .data-sources {
            top: 510px;
            left: 360px;
            width: 120px;
            height: 40px;
            background: #16a085;
            color: white;
            font-size: 9px;
        }
        
        /* Servicios Externos */
        .external-layer {
            top: 590px;
            left: 200px;
            width: 1200px;
            height: 180px;
            background: rgba(67, 233, 123, 0.1);
            border: 2px dashed #43e97b;
            border-radius: 10px;
        }
        
        .openai-api {
            top: 610px;
            left: 220px;
            width: 80px;
            height: 50px;
            background: #27ae60;
            color: white;
            font-size: 9px;
        }
        
        .claude-api {
            top: 610px;
            left: 320px;
            width: 80px;
            height: 50px;
            background: #2ecc71;
            color: white;
            font-size: 9px;
        }
        
        .gemini-api {
            top: 610px;
            left: 420px;
            width: 80px;
            height: 50px;
            background: #58d68d;
            color: white;
            font-size: 9px;
        }
        
        .firebase-auth {
            top: 610px;
            left: 520px;
            width: 80px;
            height: 50px;
            background: #ff6b6b;
            color: white;
            font-size: 9px;
        }
        
        .firestore {
            top: 610px;
            left: 620px;
            width: 80px;
            height: 50px;
            background: #ff7675;
            color: white;
            font-size: 9px;
        }
        
        .google-signin {
            top: 680px;
            left: 520px;
            width: 80px;
            height: 40px;
            background: #fd79a8;
            color: white;
            font-size: 9px;
        }
        
        .cloud-storage {
            top: 680px;
            left: 620px;
            width: 80px;
            height: 40px;
            background: #fdcb6e;
            color: #2c3e50;
            font-size: 9px;
        }
        
        /* Flechas de conexión */
        .arrow {
            position: absolute;
            z-index: 10;
        }
        
        .arrow-right {
            width: 0;
            height: 0;
            border-left: 8px solid #2c3e50;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
        }
        
        .arrow-down {
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #2c3e50;
        }
        
        .connection-line {
            position: absolute;
            background: #2c3e50;
            z-index: 5;
        }
        
        /* Líneas de conexión específicas */
        .line-user-main {
            top: 50px;
            left: 130px;
            width: 70px;
            height: 2px;
        }
        
        .line-main-fragments {
            top: 90px;
            left: 320px;
            width: 30px;
            height: 2px;
        }
        
        .line-fragments-viewmodels {
            top: 110px;
            left: 470px;
            width: 30px;
            height: 2px;
        }
        
        .line-vertical-1 {
            top: 170px;
            left: 270px;
            width: 2px;
            height: 50px;
        }
        
        .line-vertical-2 {
            top: 380px;
            left: 280px;
            width: 2px;
            height: 50px;
        }
        
        .line-vertical-3 {
            top: 560px;
            left: 290px;
            width: 2px;
            height: 50px;
        }
        
        /* Etiquetas de capa */
        .layer-label {
            position: absolute;
            left: 10px;
            font-weight: bold;
            font-size: 12px;
            color: #2c3e50;
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }
        
        .presentation-label {
            top: 100px;
        }
        
        .business-label {
            top: 260px;
        }
        
        .data-label {
            top: 460px;
        }
        
        .external-label {
            top: 650px;
        }
        
        /* Leyenda */
        .legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            font-size: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            margin-right: 8px;
            border-radius: 3px;
        }
        
        /* Información del componente */
        .component-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(44, 62, 80, 0.9);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            max-width: 300px;
            display: none;
        }
        
        .tech-badge {
            position: absolute;
            background: #667eea;
            color: white;
            padding: 3px 6px;
            border-radius: 12px;
            font-size: 8px;
            font-weight: 600;
        }
        
        .badge-mvvm {
            top: 180px;
            left: 750px;
        }
        
        .badge-hilt {
            top: 180px;
            left: 820px;
        }
        
        .badge-retrofit {
            top: 390px;
            left: 750px;
        }
        
        .badge-firebase {
            top: 570px;
            left: 750px;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <div class="title">🧠 MindSpark AI - Arquitectura del Sistema</div>
        
        <div class="architecture-flow">
            <!-- Etiquetas de capas -->
            <div class="layer-label presentation-label">PRESENTACIÓN</div>
            <div class="layer-label business-label">LÓGICA NEGOCIO</div>
            <div class="layer-label data-label">DATOS</div>
            <div class="layer-label external-label">SERVICIOS EXTERNOS</div>
            
            <!-- Usuario -->
            <div class="component user">👤</div>
            
            <!-- Capas del sistema -->
            <div class="presentation-layer"></div>
            <div class="business-layer"></div>
            <div class="data-layer"></div>
            <div class="external-layer"></div>
            
            <!-- Componentes de Presentación -->
            <div class="component main-activity" title="MainActivity - Navigation Host">MainActivity<br>Navigation</div>
            <div class="component fragments" title="UI Fragments">Fragments<br>• Welcome<br>• Login/Register<br>• Dashboard<br>• Chat<br>• Summary<br>• Quiz<br>• StudyPlan<br>• Profile</div>
            <div class="component viewmodels" title="ViewModels con LiveData">ViewModels<br>• AuthViewModel<br>• ChatViewModel<br>• DashboardVM<br>• SummaryVM<br>• QuizViewModel</div>
            <div class="component adapters" title="RecyclerView Adapters">Adapters<br>DiffUtil</div>
            <div class="component navigation" title="Navigation Component">Navigation<br>Component</div>
            
            <!-- Componentes de Lógica de Negocio -->
            <div class="component ai-repository" title="Múltiples APIs de IA">AI Repository<br>• OpenAI<br>• Claude<br>• Gemini<br>Multi-LLM</div>
            <div class="component auth-repository" title="Firebase Authentication">Auth Repository<br>Firebase Auth<br>Google SignIn</div>
            <div class="component user-repository" title="Gestión de usuarios">User Repository<br>Firestore<br>User Management</div>
            <div class="component local-repository" title="Datos locales encriptados">Local Repository<br>Encrypted Prefs<br>Cache</div>
            <div class="component utils" title="Utilidades y helpers">Utils & Helpers<br>Validation, Security</div>
            <div class="component constants" title="Configuraciones">Constants<br>Config</div>
            
            <!-- Componentes de Datos -->
            <div class="component models" title="Modelos de datos Kotlin">Data Models<br>• ChatMessage<br>• User<br>• QuizQuestion<br>• StudyPlan<br>• Subject</div>
            <div class="component network-services" title="Servicios de red">Network Services<br>Retrofit<br>OkHttp</div>
            <div class="component local-storage" title="Almacenamiento local">Local Storage<br>SharedPrefs<br>Room (ready)</div>
            <div class="component data-sources" title="Fuentes de datos">Data Sources<br>Remote/Local</div>
            
            <!-- Servicios Externos -->
            <div class="component openai-api" title="OpenAI GPT">OpenAI<br>GPT-4<br>GPT-3.5</div>
            <div class="component claude-api" title="Anthropic Claude">Anthropic<br>Claude-3<br>Sonnet</div>
            <div class="component gemini-api" title="Google Gemini">Google<br>Gemini<br>Pro</div>
            <div class="component firebase-auth" title="Firebase Authentication">Firebase<br>Auth</div>
            <div class="component firestore" title="Firestore Database">Firestore<br>Database</div>
            <div class="component google-signin" title="Google Sign-In">Google<br>Sign-In</div>
            <div class="component cloud-storage" title="Cloud Storage">Cloud<br>Storage</div>
            
            <!-- Líneas de conexión -->
            <div class="connection-line line-user-main"></div>
            <div class="connection-line line-main-fragments"></div>
            <div class="connection-line line-fragments-viewmodels"></div>
            <div class="connection-line line-vertical-1"></div>
            <div class="connection-line line-vertical-2"></div>
            <div class="connection-line line-vertical-3"></div>
            
            <!-- Flechas -->
            <div class="arrow arrow-right" style="top: 48px; left: 200px;"></div>
            <div class="arrow arrow-right" style="top: 88px; left: 350px;"></div>
            <div class="arrow arrow-right" style="top: 108px; left: 500px;"></div>
            <div class="arrow arrow-down" style="top: 170px; left: 267px;"></div>
            <div class="arrow arrow-down" style="top: 380px; left: 277px;"></div>
            <div class="arrow arrow-down" style="top: 560px; left: 287px;"></div>
            
            <!-- Badges tecnológicos -->
            <div class="tech-badge badge-mvvm">MVVM</div>
            <div class="tech-badge badge-hilt">Hilt DI</div>
            <div class="tech-badge badge-retrofit">Retrofit</div>
            <div class="tech-badge badge-firebase">Firebase</div>
            
            <!-- Leyenda -->
            <div class="legend">
                <h4 style="margin: 0 0 10px 0; color: #2c3e50;">Tecnologías</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: #667eea;"></div>
                    <span>Android Kotlin</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #e74c3c;"></div>
                    <span>AI APIs</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #3498db;"></div>
                    <span>Data Layer</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #27ae60;"></div>
                    <span>External APIs</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ff6b6b;"></div>
                    <span>Firebase</span>
                </div>
            </div>
            
            <!-- Información del componente -->
            <div class="component-info" id="componentInfo">
                Haz clic en cualquier componente para ver más información
            </div>
        </div>
    </div>
    
    <script>
        // Interactividad para mostrar información de componentes
        const components = document.querySelectorAll('.component');
        const componentInfo = document.getElementById('componentInfo');
        
        const componentDetails = {
            'main-activity': 'MainActivity es el punto de entrada principal que maneja la navegación con Navigation Component y BottomNavigationView.',
            'fragments': 'Sistema de 9 fragments especializados que implementan las diferentes funcionalidades de la app usando Material Design 3.',
            'viewmodels': 'ViewModels que manejan el estado de UI y la lógica de presentación usando LiveData y corrutinas.',
            'ai-repository': 'Repositorio central que integra múltiples APIs de IA (OpenAI, Claude, Gemini) con fallback y manejo de errores.',
            'auth-repository': 'Manejo de autenticación con Firebase Auth y Google Sign-In, incluyendo validación y seguridad.',
            'user-repository': 'Gestión de perfiles de usuario y datos en Firestore con sincronización en tiempo real.',
            'local-repository': 'Almacenamiento local seguro con SharedPreferences encriptadas y cache inteligente.',
            'models': 'Data classes Kotlin que definen la estructura de datos: ChatMessage, User, QuizQuestion, StudyPlan, etc.',
            'network-services': 'Servicios de red con Retrofit y OkHttp para comunicación con APIs externas.',
            'openai-api': 'Integración con OpenAI para GPT-4 y GPT-3.5, optimizado para tareas educativas.',
            'claude-api': 'API de Anthropic Claude-3 especializada en análisis de texto y resúmenes.',
            'gemini-api': 'Google Gemini Pro para tareas multimodales y procesamiento versátil.',
            'firebase-auth': 'Sistema de autenticación robusto con soporte para múltiples proveedores.',
            'firestore': 'Base de datos NoSQL en tiempo real para almacenamiento de datos de usuario.'
        };
        
        components.forEach(component => {
            component.addEventListener('click', (e) => {
                const classes = e.target.classList;
                let key = '';
                
                // Encontrar la clase específica del componente
                classes.forEach(cls => {
                    if (componentDetails[cls]) {
                        key = cls;
                    }
                });
                
                if (key && componentDetails[key]) {
                    componentInfo.textContent = componentDetails[key];
                    componentInfo.style.display = 'block';
                }
            });
        });
        
        // Efecto hover para componentes
        components.forEach(component => {
            component.addEventListener('mouseenter', (e) => {
                e.target.style.zIndex = '100';
            });
            
            component.addEventListener('mouseleave', (e) => {
                e.target.style.zIndex = '1';
            });
        });
    </script>
</body>
</html>